<!-- energy-heatmap.html -->
<div id="eh2-root" data-theme="light">
  <div class="eh-card">
    <!-- Header -->
    <div id="eh2-header" class="eh-header">
      <div class="eh-btn-group" id="eh2-range-group">
        <button class="eh-btn eh-btn--chip" data-range="1d">過去24時間</button>
        <button class="eh-btn eh-btn--chip active" data-range="1w">過去7日間</button>
        <button class="eh-btn eh-btn--chip" data-range="1m">過去30日間</button>
        <button class="eh-btn eh-btn--chip" data-range="custom">カスタム</button>
      </div>

      <div class="eh-btn-group" id="eh2-hour-mode-group">
        <button class="eh-btn eh-btn--chip active" data-hour-mode="10h">営業時間</button>
        <button class="eh-btn eh-btn--chip" data-hour-mode="24h">全時間</button>
      </div>
    </div>

    <!-- Canvas -->
    <div class="eh-scroll-wrap">
      <canvas id="eh2-canvas" class="eh-canvas" aria-label="ヒートマップ"></canvas>
    </div>

    <div id="eh2-legend" class="eh-legend"></div>
    <div id="eh2-tooltip" class="eh-tooltip" style="display:none"></div>
  </div>
</div>

<!-- ===== Custom Range Modal (2 calendars) ===== -->
<div id="eh2-range-overlay" class="eh2-modal-overlay" style="display:none;">
  <div class="eh2-modal">
    <div class="eh2-modal-head">
      <div class="title">期間を選択</div>
      <button class="eh2-iconbtn" id="eh2-close" aria-label="閉じる">✕</button>
    </div>

    <div class="eh2-modal-body">
      <div class="eh2-cal-wrap">
        <!-- Left month -->
        <div class="eh2-cal">
          <div class="eh2-cal-head">
            <button class="eh2-iconbtn" id="eh2-prevL" aria-label="前の月">‹</button>
            <div class="title" id="eh2-titleL"></div>
            <button class="eh2-iconbtn" id="eh2-nextL" aria-label="次の月">›</button>
          </div>
          <div class="eh2-week"><div>月</div><div>火</div><div>水</div><div>木</div><div>金</div><div>土</div><div>日</div></div>
          <div class="eh2-grid" id="eh2-gridL"></div>
        </div>

        <!-- Right month -->
        <div class="eh2-cal">
          <div class="eh2-cal-head">
            <button class="eh2-iconbtn" id="eh2-prevR" aria-label="前の月">‹</button>
            <div class="title" id="eh2-titleR"></div>
            <button class="eh2-iconbtn" id="eh2-nextR" aria-label="次の月">›</button>
          </div>
          <div class="eh2-week"><div>月</div><div>火</div><div>水</div><div>木</div><div>金</div><div>土</div><div>日</div></div>
          <div class="eh2-grid" id="eh2-gridR"></div>
        </div>
      </div>

      <!-- Quick actions -->
      <div class="eh2-quick">
        <span>クイック選択</span>
        <button id="eh2-week-cur" class="eh2-btn ghost">今週</button>
        <button id="eh2-month-cur" class="eh2-btn ghost">今月</button>
      </div>
    </div>

    <div class="eh2-modal-actions">
      <button class="eh2-btn" id="eh2-cancel" type="button">キャンセル</button>
      <button class="eh2-btn primary" id="eh2-apply" type="button">適用</button>
    </div>
  </div>
</div>
